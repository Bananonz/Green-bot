const KongouCommand=require("../../abstract/KongouCommand.js");class Volume extends KongouCommand{get name(){return"textchannels"}get description(){return"Restricts/Allows the bot to answer to commands, just do `textchannels #channel` to allow a channel and do the command again to remove this channel"}get category(){return"Admin Commands"}get permissions(){return["MANAGE_GUILD"]}get aliases(){return["setchannel","settc","channels"]}get arguments(){return[{name:"channel",description:"The voice channel you want to restrict the bot to. Provide `reset` to reset the channels.",required:!0}]}async run({ctx:e}){if("reset"===e.args[0])return e.guildDB.txts=[],e.client.mongoDB.handleCache(e.guildDB),e.successMessage("The bot is now allowed to answer commands in every single text channel!");const t=e.message.mentions.channels.first()||e.guild.channels.cache.get(e.args[0])||e.guild.channels.cache.find(t=>"GUILD_TEXT"===t.type&&t.name.toLowerCase().includes(e.args.join(" ")));if(!t||"GUILD_TEXT"!==t.type)return e.errorMessage("Please provide a valid text channel.");e.guildDB.txts.includes(`${t.id}`)?(e.guildDB.txts=e.guildDB.txts.filter(e=>e!==`${t.id}`),e.client.mongoDB.handleCache(e.guildDB),e.successMessage(`Removed <#${t.id}> from the restricted text channels.`)):(e.guildDB.txts.push(`${t.id}`),e.client.mongoDB.handleCache(e.guildDB),e.successMessage(`Added <#${t.id}> to the restricted text channels.\nThe bot won't reply to command anymore in this channel!`))}}module.exports=Volume;