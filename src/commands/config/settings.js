const KongouCommand=require("../../abstract/KongouCommand.js");class Settings extends KongouCommand{get name(){return"settings"}get permission(){return["MANAGE_GUILD"]}get aliases(){return["config","setup"]}get description(){return"View the current settings of the server. If you want to setup the bot, check https://guide.green-bot.app/configuration"}get category(){return"Admin Commands"}async run({ctx:e}){if(e.args[0])return["reset","default"].includes(e.args[0])?(e.guildDB.prefix="*",e.guildDB.announce=!0,e.guildDB.vcs=[],e.guildDB.defaultVolume=60,e.guildDB.auto_autoplay=null,e.guildDB.vote_skip=!0,e.guildDB.txts=[],e.guildDB.dj_role=null,e.guildDB.h24=null,e.guildDB.auto_shuffle=!1,e.client.mongoDB.handleCache(e.guildDB),e.successMessage("All settings of the bot have been reset!")):e.channel.send("Want to setup me? Check my setup guide to get started!\nhttps://guide.green-bot.app/configuration");e.client.mongoDB.checkPremium(e.guild.id).then(t=>{e.channel.send({embeds:[{color:"#3A871F",author:{name:`${e.guild.name}`,icon_url:e.guild.icon?e.guild.iconURL({dynamic:!0}):"https://cdn.discordapp.com/attachments/748897191879245834/782271474450825226/0.png?size=128"},description:`> Prefix: \`${e.guildDB.prefix}\`\n> [Green-bot Premium](https://green-bot.app/premium): ${t.guildId?`âœ¨ Active | <@${t.userId}>`:"Not active "}\n\nAnnoucing new songs: ${e.guildDB.announce?"`Enabled`":"`Disabled`"}\nDefault volume: \`${e.guildDB.defaultVolume}\`\nDj role: ${e.guildDB.dj_role?`<@&${e.guildDB.dj_role}>`:"`No set`"}\n24/7: ${e.guildDB.h24?"`Enabled`":"`Disabled`"}\nVoice channel(s): ${e.guildDB.vcs.length>0?`${e.guildDB.vcs.map(e=>`<#${e}>`)}`:"`No set`"}\nAllowed text channel(s): ${e.guildDB.txts.length>0?`${e.guildDB.txts.map(e=>`<#${e}>`)}`:"`No set`"}\nVote skip enabled: ${e.guildDB.vote_skip?"`Enabled`":"`Disabled`"}\nAuto shuffle Playlist: ${e.guildDB.auto_shuffle?"`Enabled`":"`Disabled`"}\nAuto-Autoplay: ${e.guildDB.auto_autoplay?"`Enabled`":"`Disabled`"}\nDj command(s): ${e.guildDB.dj_commands.length>0?`${e.guildDB.dj_commands.map(e=>`\`${e}\``).join(", ")}`:"`No set`"}`}]})})}}module.exports=Settings;